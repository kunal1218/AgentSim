# label_qwen.sub

universe = vanilla

executable = ./run_label.sh
arguments  = $(Process)

log    = logs/label_$(Cluster)_$(Process).log
output = logs/label_$(Cluster)_$(Process).out
error  = logs/label_$(Cluster)_$(Process).err

initialdir = .

# Send scripts + input to the execute node
transfer_input_files = run_label.sh, label_worker.py, filtered_pairs_10k.jsonl
should_transfer_files = YES
when_to_transfer_output = ON_EXIT

# Resources
request_cpus   = 4
request_memory = 32GB
request_disk   = 50GB

# GPU (L40 class). CHTC will match an available GPU node.
request_gpus = 1

# Useful env vars for the wrapper
environment = "NUM_SHARDS=10 INPUT_JSONL=filtered_pairs_10k.jsonl OUTDIR=outputs MODEL_NAME=Qwen/Qwen2.5-7B-Instruct HF_HOME=hf_cache"

# One test job (Process=0). Increase later.
queue 1

